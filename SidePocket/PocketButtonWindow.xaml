<Window x:Class="SidePocket.PocketButtonWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Topmost="True" ShowInTaskbar="False"
        Width="32" Height="32" ResizeMode="NoResize">
    <Border Name="MainBorder" CornerRadius="4" Background="{DynamicResource CardBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" 
            BorderThickness="1" Cursor="Hand" MouseLeftButtonDown="Border_MouseLeftButtonDown"
            RenderTransformOrigin="0.5,0.5">
        <Border.RenderTransform>
            <ScaleTransform ScaleX="1" ScaleY="1"/>
        </Border.RenderTransform>
        <Border.Effect>
            <DropShadowEffect x:Name="MainShadow" BlurRadius="8" ShadowDepth="1" Opacity="0.2"/>
        </Border.Effect>
        <Path x:Name="IconPath" Data="M4,4 L28,4 L28,28 L4,28 Z M10,10 L22,10 L22,22 L10,22 Z" 
              Fill="#0078D4" Stretch="Uniform" Margin="6" RenderTransformOrigin="0.5,0.5">
            <Path.RenderTransform>
                <ScaleTransform ScaleX="1" ScaleY="1"/>
            </Path.RenderTransform>
        </Path>
    </Border>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="MainBorder" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2"/>
                    <DoubleAnimation Storyboard.TargetName="MainBorder" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" From="0" To="1" Duration="0:0:0.4">
                        <DoubleAnimation.EasingFunction>
                            <ElasticEase Oscillations="1" Springiness="5" EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                    <DoubleAnimation Storyboard.TargetName="MainBorder" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" From="0" To="1" Duration="0:0:0.4">
                        <DoubleAnimation.EasingFunction>
                            <ElasticEase Oscillations="1" Springiness="5" EasingMode="EaseOut"/>
                        </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
        <EventTrigger RoutedEvent="MouseEnter" SourceName="MainBorder">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="IconPath" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.2" Duration="0:0:0.2"/>
                    <DoubleAnimation Storyboard.TargetName="IconPath" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.2" Duration="0:0:0.2"/>
                    <DoubleAnimation Storyboard.TargetName="MainShadow" Storyboard.TargetProperty="BlurRadius" To="15" Duration="0:0:0.2"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
        <EventTrigger RoutedEvent="MouseLeave" SourceName="MainBorder">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetName="IconPath" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.0" Duration="0:0:0.2"/>
                    <DoubleAnimation Storyboard.TargetName="IconPath" Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.0" Duration="0:0:0.2"/>
                    <DoubleAnimation Storyboard.TargetName="MainShadow" Storyboard.TargetProperty="BlurRadius" To="8" Duration="0:0:0.2"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
</Window>
