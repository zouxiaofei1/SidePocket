<Window x:Class="SidePocket.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SidePocket 设置" Height="200" Width="300"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen" ShowInTaskbar="True">
    <Border CornerRadius="8" Background="#F3F3F3" BorderBrush="#33000000" BorderThickness="1" Margin="10">
        <Border.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.2"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title Bar Area -->
            <Grid Background="Transparent" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <TextBlock Text="快捷键设置" FontSize="12" Margin="16,12,0,12" Foreground="#666666" VerticalAlignment="Center"/>
                <Button Content="" FontFamily="Segoe MDL2 Assets" FontSize="10" Background="Transparent" BorderThickness="0" 
                        HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,12,0" Width="32" Height="32"
                        Click="Close_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="4">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#11000000"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#22000000"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <!-- Content Area -->
            <StackPanel Grid.Row="1" Margin="16,0,16,16">
                <TextBlock Text="收纳当前窗口" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <TextBlock Text="使用快捷键快速将当前激活的窗口收纳到屏幕边缘。" FontSize="12" Foreground="#666666" TextWrapping="Wrap" Margin="0,0,0,20"/>

                <Border Background="White" CornerRadius="4" BorderBrush="#11000000" BorderThickness="1" Padding="12">
                    <DockPanel>
                        <TextBlock Text="快捷键组合" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Border Background="#F3F3F3" CornerRadius="4" Padding="8,4" Margin="0,0,4,0">
                                <TextBlock Text="Win" FontSize="12"/>
                            </Border>
                            <TextBlock Text="+" VerticalAlignment="Center" Margin="0,0,4,0"/>
                            <TextBox Name="HotKeyTextBox" Width="100" Padding="5,2" Text="~" 
                                     TextAlignment="Center" VerticalContentAlignment="Center"
                                     Background="White" BorderBrush="#0067C0" BorderThickness="1"
                                     IsReadOnly="True" Cursor="Hand" PreviewKeyDown="HotKeyTextBox_PreviewKeyDown"/>
                        </StackPanel>
                    </DockPanel>
                </Border>
                
                <Button Content="重置为默认值" Margin="0,12,0,0" HorizontalAlignment="Left" Foreground="#0067C0" Background="Transparent" BorderThickness="0" Click="Reset_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="TextBlock.TextDecorations" Value="Underline"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>

            <!-- Bottom Actions -->
            <Border Grid.Row="2" Background="#EEEEEE" CornerRadius="0,0,8,8" Padding="16,12">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="保存" Click="Save_Click" Style="{StaticResource PrimaryButtonStyle}" Margin="0,0,8,0"/>
                    <Button Content="取消" Click="Cancel_Click" Style="{StaticResource SecondaryButtonStyle}"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
